{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kasha\\\\OneDrive\\\\Desktop\\\\CN Project 2\\\\thk-protocol-simulator\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Stage, Layer, Line, Circle, Text, Rect } from 'react-konva';\nimport io from 'socket.io-client';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  var _clients$find;\n  const [socket, setSocket] = useState(null);\n  const [clients, setClients] = useState([]);\n  const [agents, setAgents] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [packets, setPackets] = useState([]);\n  const [currentClient, setCurrentClient] = useState('');\n  const [inputMessage, setInputMessage] = useState('');\n  const [clientName, setClientName] = useState('');\n  const [isConnected, setIsConnected] = useState(false);\n  const [logs, setLogs] = useState([]);\n  const [manualClientName, setManualClientName] = useState('');\n  const [selectedClient, setSelectedClient] = useState('');\n  const [stats, setStats] = useState({});\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\n  const stageRef = useRef();\n  const messagesEndRef = useRef(); // NEW: For auto-scroll\n\n  // NEW: Load chat history from localStorage on component mount\n  useEffect(() => {\n    const savedMessages = localStorage.getItem('thk_chat_history');\n    if (savedMessages) {\n      try {\n        const parsedMessages = JSON.parse(savedMessages);\n        // Convert timestamp strings back to Date objects\n        const messagesWithDates = parsedMessages.map(msg => ({\n          ...msg,\n          timestamp: new Date(msg.timestamp)\n        }));\n        setMessages(messagesWithDates);\n        addLog('ðŸ’¾ Loaded chat history from storage');\n      } catch (error) {\n        addLog('âŒ Error loading chat history');\n      }\n    }\n  }, []);\n\n  // NEW: Save chat history to localStorage whenever messages change\n  useEffect(() => {\n    try {\n      localStorage.setItem('thk_chat_history', JSON.stringify(messages));\n    } catch (error) {\n      addLog('âŒ Error saving chat history');\n    }\n  }, [messages]);\n\n  // NEW: Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, selectedClient]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  // Add log function\n  const addLog = useCallback(message => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLogs(prev => [{\n      timestamp,\n      message\n    }, ...prev.slice(0, 50)]);\n  }, []);\n\n  // Packet animation\n  const animatePacket = useCallback(packetData => {\n    const newPacket = {\n      id: packetData.id || Date.now(),\n      ...packetData,\n      progress: 0\n    };\n    setPackets(prev => [...prev, newPacket]);\n    addLog(`ðŸ“¦ ${packetData.type} packet from ${packetData.from} to ${packetData.to}`);\n    const interval = setInterval(() => {\n      setPackets(prev => prev.map(p => p.id === newPacket.id ? {\n        ...p,\n        progress: Math.min(p.progress + 0.02, 1)\n      } : p));\n    }, 50);\n    setTimeout(() => {\n      clearInterval(interval);\n      setPackets(prev => prev.filter(p => p.id !== newPacket.id));\n    }, 2000);\n  }, [addLog]);\n\n  // Socket connection useEffect (NO CHANGES - keeping your perfect code)\n  useEffect(() => {\n    const newSocket = io('http://localhost:5000', {\n      reconnection: true,\n      reconnectionDelay: 1000\n    });\n    setSocket(newSocket);\n    newSocket.on('connect', () => {\n      setIsConnected(true);\n      addLog('âœ… Connected to THK Protocol Server');\n    });\n    newSocket.on('disconnect', () => {\n      setIsConnected(false);\n      addLog('âš ï¸ Disconnected from server');\n    });\n    newSocket.on('initial_state', data => {\n      setClients(data.clients || []);\n      setAgents(data.agents || []);\n      setStats(data.stats || {});\n    });\n    newSocket.on('client_connected', data => {\n      addLog(`ðŸ‘¤ Client ${data.name} connected`);\n    });\n    newSocket.on('client_disconnected', data => {\n      addLog(`ðŸ”Œ Client ${data.name} disconnected`);\n    });\n    newSocket.on('client_added', client => {\n      addLog(`âž• Manual client ${client.name} added`);\n    });\n    newSocket.on('client_removed', data => {\n      addLog(`âž– Client ${data.clientId} removed`);\n    });\n    newSocket.on('packet_animation', data => {\n      animatePacket(data);\n    });\n    newSocket.on('agent_response', data => {\n      setMessages(prev => [...prev, {\n        type: 'agent',\n        clientId: data.clientId,\n        agent: data.agent,\n        message: data.message,\n        timestamp: new Date(data.timestamp)\n      }]);\n      addLog(`ðŸ’¬ ${data.agent} agent responded`);\n    });\n    newSocket.on('client_registered', data => {\n      setCurrentClient(data.name);\n      setSelectedClient(data.clientId);\n      addLog(`ðŸ“ Registered as ${data.name}`);\n    });\n    newSocket.on('error', error => {\n      addLog(`âŒ Error: ${error.message}`);\n    });\n    return () => {\n      newSocket.disconnect();\n    };\n  }, [addLog, animatePacket]);\n\n  // ALL OTHER FUNCTIONS REMAIN EXACTLY THE SAME - NO CHANGES\n  const registerClient = () => {\n    if (clientName && socket) {\n      socket.emit('register_client', {\n        name: clientName\n      });\n    }\n  };\n  const addManualClient = async () => {\n    if (!manualClientName.trim()) return;\n    try {\n      const response = await fetch('http://localhost:5000/api/clients', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: manualClientName.trim()\n        })\n      });\n      if (response.ok) {\n        setManualClientName('');\n        addLog(`âœ… Added manual client: ${manualClientName}`);\n      }\n    } catch (error) {\n      addLog(`âŒ Error adding client: ${error.message}`);\n    }\n  };\n  const removeClient = async clientId => {\n    try {\n      await fetch(`http://localhost:5000/api/clients/${clientId}`, {\n        method: 'DELETE'\n      });\n      addLog(`âž– Removed client ${clientId}`);\n    } catch (error) {\n      addLog(`âŒ Error removing client: ${error.message}`);\n    }\n  };\n  const sendMessage = () => {\n    if (!inputMessage.trim() || !selectedClient || !socket) return;\n    const messageData = {\n      clientId: selectedClient,\n      message: inputMessage.trim()\n    };\n    socket.emit('send_message', messageData);\n    const client = clients.find(c => c.id === selectedClient);\n    setMessages(prev => [...prev, {\n      type: 'client',\n      clientId: selectedClient,\n      client: (client === null || client === void 0 ? void 0 : client.name) || 'Unknown',\n      message: inputMessage.trim(),\n      timestamp: new Date()\n    }]);\n    setInputMessage('');\n    addLog(`ðŸ“¤ Sent: \"${inputMessage.trim().substring(0, 30)}...\"`);\n  };\n  const loadStats = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/stats');\n      const data = await response.json();\n      setStats(data);\n      addLog('ðŸ“Š Stats updated');\n    } catch (error) {\n      addLog(`âŒ Error loading stats: ${error.message}`);\n    }\n  };\n\n  // Visualization functions (NO CHANGES)\n  const getNodePosition = nodeId => {\n    const positions = {\n      router: {\n        x: 400,\n        y: 300\n      },\n      food: {\n        x: 650,\n        y: 150\n      },\n      travel: {\n        x: 650,\n        y: 300\n      },\n      realestate: {\n        x: 650,\n        y: 450\n      }\n    };\n    if (positions[nodeId]) return positions[nodeId];\n    const clientIndex = clients.findIndex(c => c.id === nodeId);\n    return {\n      x: 150,\n      y: 100 + clientIndex * 80\n    };\n  };\n  const getPacketColor = packetType => {\n    const colors = {\n      SYN: '#ff6b6b',\n      'SYN-ACK': '#4ecdc4',\n      ACK: '#45b7d1',\n      DATA_SEND: '#96ceb4',\n      DATA_RECEIVE: '#feca57'\n    };\n    return colors[packetType] || '#ffffff';\n  };\n  const getClientColor = clientId => {\n    const colors = ['#4ecdc4', '#ff6b6b', '#45b7d1', '#feca57', '#a8e6cf', '#ffd3b6'];\n    const index = clients.findIndex(c => c.id === clientId) % colors.length;\n    return colors[index];\n  };\n  const filteredMessages = messages.filter(msg => selectedClient ? msg.clientId === selectedClient : true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83D\\uDE80 THK Protocol Simulator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"connection-status\",\n          children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: isConnected ? 'connected' : 'disconnected',\n            children: isConnected ? 'Connected' : 'Disconnected'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-toggle\",\n          onClick: () => setShowAdminPanel(!showAdminPanel),\n          children: showAdminPanel ? 'Hide Admin' : 'Show Admin'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"visualization-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Network Topology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stage, {\n          width: 800,\n          height: 600,\n          ref: stageRef,\n          children: /*#__PURE__*/_jsxDEV(Layer, {\n            children: [clients.map(client => /*#__PURE__*/_jsxDEV(Line, {\n              points: [getNodePosition(client.id).x, getNodePosition(client.id).y, getNodePosition('router').x, getNodePosition('router').y],\n              stroke: \"#444\",\n              strokeWidth: 2,\n              dash: [5, 5]\n            }, `conn-client-${client.id}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)), agents.map(agent => /*#__PURE__*/_jsxDEV(Line, {\n              points: [getNodePosition('router').x, getNodePosition('router').y, getNodePosition(agent).x, getNodePosition(agent).y],\n              stroke: \"#444\",\n              strokeWidth: 2,\n              dash: [5, 5]\n            }, `conn-agent-${agent}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this)), clients.map(client => /*#__PURE__*/_jsxDEV(Circle, {\n              x: getNodePosition(client.id).x,\n              y: getNodePosition(client.id).y,\n              radius: 20,\n              fill: getClientColor(client.id),\n              stroke: selectedClient === client.id ? '#fff' : '#666',\n              strokeWidth: selectedClient === client.id ? 3 : 1,\n              onClick: () => setSelectedClient(client.id)\n            }, client.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(Rect, {\n              x: getNodePosition('router').x - 30,\n              y: getNodePosition('router').y - 30,\n              width: 60,\n              height: 60,\n              fill: \"#45b7d1\",\n              stroke: \"#fff\",\n              strokeWidth: 2,\n              cornerRadius: 10\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), agents.map(agent => /*#__PURE__*/_jsxDEV(Rect, {\n              x: getNodePosition(agent).x - 25,\n              y: getNodePosition(agent).y - 25,\n              width: 50,\n              height: 50,\n              fill: \"#ff6b6b\",\n              stroke: \"#fff\",\n              strokeWidth: 2,\n              cornerRadius: 8\n            }, agent, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)), clients.map(client => /*#__PURE__*/_jsxDEV(Text, {\n              x: getNodePosition(client.id).x - 30,\n              y: getNodePosition(client.id).y + 30,\n              text: client.name,\n              fontSize: 12,\n              fill: \"#fff\"\n            }, `label-${client.id}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(Text, {\n              x: getNodePosition('router').x - 20,\n              y: getNodePosition('router').y + 45,\n              text: \"ROUTER\",\n              fontSize: 14,\n              fill: \"#fff\",\n              fontStyle: \"bold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), agents.map(agent => /*#__PURE__*/_jsxDEV(Text, {\n              x: getNodePosition(agent).x - 25,\n              y: getNodePosition(agent).y + 40,\n              text: agent.toUpperCase(),\n              fontSize: 12,\n              fill: \"#fff\",\n              fontStyle: \"bold\"\n            }, `label-${agent}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this)), packets.map(packet => {\n              const fromPos = getNodePosition(packet.from);\n              const toPos = getNodePosition(packet.to);\n              const currentX = fromPos.x + (toPos.x - fromPos.x) * packet.progress;\n              const currentY = fromPos.y + (toPos.y - fromPos.y) * packet.progress;\n              return /*#__PURE__*/_jsxDEV(Circle, {\n                x: currentX,\n                y: currentY,\n                radius: 6,\n                fill: getPacketColor(packet.type),\n                stroke: \"#fff\",\n                strokeWidth: 1\n              }, packet.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-panel\",\n        children: [showAdminPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Admin Controls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"manual-client-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Add Manual Clients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"manual-client-input\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Enter client name\",\n                value: manualClientName,\n                onChange: e => setManualClientName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addManualClient,\n                children: \"Add Client\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Statistics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Clients: \", stats.totalClients || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Active Connections: \", stats.activeConnections || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Congestion Window: \", stats.congestionWindow || 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: loadStats,\n              children: \"Refresh Stats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"client-management\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Client Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"client-registration\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Enter your name\",\n              value: clientName,\n              onChange: e => setClientName(e.target.value),\n              disabled: currentClient\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: registerClient,\n              disabled: !clientName || currentClient,\n              children: \"Register Client\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"client-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Active Clients (\", clients.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"client-buttons\",\n              children: clients.map(client => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"client-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: selectedClient === client.id ? 'selected' : '',\n                  onClick: () => setSelectedClient(client.id),\n                  children: [client.name, \" (\", client.type, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 21\n                }, this), client.type === 'manual' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-client\",\n                  onClick: () => removeClient(client.id),\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this)]\n              }, client.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-interface\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Chat with Agents \", selectedClient && ` - ${((_clients$find = clients.find(c => c.id === selectedClient)) === null || _clients$find === void 0 ? void 0 : _clients$find.name) || 'Unknown'}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"messages\",\n            children: [filteredMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message ${msg.type}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [msg.type === 'client' ? 'You' : `${msg.agent} Agent`, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"timestamp\",\n                  children: msg.timestamp.toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: msg.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Type your message...\",\n              value: inputMessage,\n              onChange: e => setInputMessage(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && sendMessage(),\n              disabled: !selectedClient\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: sendMessage,\n              disabled: !inputMessage || !selectedClient,\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logs-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Protocol Logs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logs\",\n          children: logs.map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"log-entry\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"timestamp\",\n              children: [\"[\", log.timestamp, \"]\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"log-message\",\n              children: log.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"gKZBvYIVqCIBqUKCzCCNZZi6YRM=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Stage","Layer","Line","Circle","Text","Rect","io","jsxDEV","_jsxDEV","App","_s","_clients$find","socket","setSocket","clients","setClients","agents","setAgents","messages","setMessages","packets","setPackets","currentClient","setCurrentClient","inputMessage","setInputMessage","clientName","setClientName","isConnected","setIsConnected","logs","setLogs","manualClientName","setManualClientName","selectedClient","setSelectedClient","stats","setStats","showAdminPanel","setShowAdminPanel","stageRef","messagesEndRef","savedMessages","localStorage","getItem","parsedMessages","JSON","parse","messagesWithDates","map","msg","timestamp","Date","addLog","error","setItem","stringify","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","message","toLocaleTimeString","prev","slice","animatePacket","packetData","newPacket","id","now","progress","type","from","to","interval","setInterval","p","Math","min","setTimeout","clearInterval","filter","newSocket","reconnection","reconnectionDelay","on","data","name","client","clientId","agent","disconnect","registerClient","emit","addManualClient","trim","response","fetch","method","headers","body","ok","removeClient","sendMessage","messageData","find","c","substring","loadStats","json","getNodePosition","nodeId","positions","router","x","y","food","travel","realestate","clientIndex","findIndex","getPacketColor","packetType","colors","SYN","ACK","DATA_SEND","DATA_RECEIVE","getClientColor","index","length","filteredMessages","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","width","height","ref","points","stroke","strokeWidth","dash","radius","fill","cornerRadius","text","fontSize","fontStyle","toUpperCase","packet","fromPos","toPos","currentX","currentY","placeholder","value","onChange","e","target","totalClients","activeConnections","congestionWindow","disabled","onKeyPress","key","log","_c","$RefreshReg$"],"sources":["C:/Users/kasha/OneDrive/Desktop/CN Project 2/thk-protocol-simulator/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Stage, Layer, Line, Circle, Text, Rect } from 'react-konva';\r\nimport io from 'socket.io-client';\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n  const [socket, setSocket] = useState(null);\r\n  const [clients, setClients] = useState([]);\r\n  const [agents, setAgents] = useState([]);\r\n  const [messages, setMessages] = useState([]);\r\n  const [packets, setPackets] = useState([]);\r\n  const [currentClient, setCurrentClient] = useState('');\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [clientName, setClientName] = useState('');\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [logs, setLogs] = useState([]);\r\n  const [manualClientName, setManualClientName] = useState('');\r\n  const [selectedClient, setSelectedClient] = useState('');\r\n  const [stats, setStats] = useState({});\r\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\r\n  const stageRef = useRef();\r\n  const messagesEndRef = useRef(); // NEW: For auto-scroll\r\n\r\n  // NEW: Load chat history from localStorage on component mount\r\n  useEffect(() => {\r\n    const savedMessages = localStorage.getItem('thk_chat_history');\r\n    if (savedMessages) {\r\n      try {\r\n        const parsedMessages = JSON.parse(savedMessages);\r\n        // Convert timestamp strings back to Date objects\r\n        const messagesWithDates = parsedMessages.map(msg => ({\r\n          ...msg,\r\n          timestamp: new Date(msg.timestamp)\r\n        }));\r\n        setMessages(messagesWithDates);\r\n        addLog('ðŸ’¾ Loaded chat history from storage');\r\n      } catch (error) {\r\n        addLog('âŒ Error loading chat history');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // NEW: Save chat history to localStorage whenever messages change\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem('thk_chat_history', JSON.stringify(messages));\r\n    } catch (error) {\r\n      addLog('âŒ Error saving chat history');\r\n    }\r\n  }, [messages]);\r\n\r\n  // NEW: Auto-scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages, selectedClient]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  // Add log function\r\n  const addLog = useCallback((message) => {\r\n    const timestamp = new Date().toLocaleTimeString();\r\n    setLogs(prev => [{ timestamp, message }, ...prev.slice(0, 50)]);\r\n  }, []);\r\n\r\n  // Packet animation\r\n  const animatePacket = useCallback((packetData) => {\r\n    const newPacket = {\r\n      id: packetData.id || Date.now(),\r\n      ...packetData,\r\n      progress: 0\r\n    };\r\n    setPackets(prev => [...prev, newPacket]);\r\n    addLog(`ðŸ“¦ ${packetData.type} packet from ${packetData.from} to ${packetData.to}`);\r\n\r\n    const interval = setInterval(() => {\r\n      setPackets(prev =>\r\n        prev.map(p =>\r\n          p.id === newPacket.id\r\n            ? { ...p, progress: Math.min(p.progress + 0.02, 1) }\r\n            : p\r\n        )\r\n      );\r\n    }, 50);\r\n\r\n    setTimeout(() => {\r\n      clearInterval(interval);\r\n      setPackets(prev => prev.filter(p => p.id !== newPacket.id));\r\n    }, 2000);\r\n  }, [addLog]);\r\n\r\n  // Socket connection useEffect (NO CHANGES - keeping your perfect code)\r\n  useEffect(() => {\r\n    const newSocket = io('http://localhost:5000', {\r\n      reconnection: true,\r\n      reconnectionDelay: 1000,\r\n    });\r\n    setSocket(newSocket);\r\n\r\n    newSocket.on('connect', () => {\r\n      setIsConnected(true);\r\n      addLog('âœ… Connected to THK Protocol Server');\r\n    });\r\n\r\n    newSocket.on('disconnect', () => {\r\n      setIsConnected(false);\r\n      addLog('âš ï¸ Disconnected from server');\r\n    });\r\n\r\n    newSocket.on('initial_state', (data) => {\r\n      setClients(data.clients || []);\r\n      setAgents(data.agents || []);\r\n      setStats(data.stats || {});\r\n    });\r\n\r\n    newSocket.on('client_connected', (data) => {\r\n      addLog(`ðŸ‘¤ Client ${data.name} connected`);\r\n    });\r\n\r\n    newSocket.on('client_disconnected', (data) => {\r\n      addLog(`ðŸ”Œ Client ${data.name} disconnected`);\r\n    });\r\n\r\n    newSocket.on('client_added', (client) => {\r\n      addLog(`âž• Manual client ${client.name} added`);\r\n    });\r\n\r\n    newSocket.on('client_removed', (data) => {\r\n      addLog(`âž– Client ${data.clientId} removed`);\r\n    });\r\n\r\n    newSocket.on('packet_animation', (data) => {\r\n      animatePacket(data);\r\n    });\r\n\r\n    newSocket.on('agent_response', (data) => {\r\n      setMessages(prev => [...prev, {\r\n        type: 'agent',\r\n        clientId: data.clientId,\r\n        agent: data.agent,\r\n        message: data.message,\r\n        timestamp: new Date(data.timestamp)\r\n      }]);\r\n      addLog(`ðŸ’¬ ${data.agent} agent responded`);\r\n    });\r\n\r\n    newSocket.on('client_registered', (data) => {\r\n      setCurrentClient(data.name);\r\n      setSelectedClient(data.clientId);\r\n      addLog(`ðŸ“ Registered as ${data.name}`);\r\n    });\r\n\r\n    newSocket.on('error', (error) => {\r\n      addLog(`âŒ Error: ${error.message}`);\r\n    });\r\n\r\n    return () => {\r\n      newSocket.disconnect();\r\n    };\r\n  }, [addLog, animatePacket]);\r\n\r\n  // ALL OTHER FUNCTIONS REMAIN EXACTLY THE SAME - NO CHANGES\r\n  const registerClient = () => {\r\n    if (clientName && socket) {\r\n      socket.emit('register_client', { name: clientName });\r\n    }\r\n  };\r\n\r\n  const addManualClient = async () => {\r\n    if (!manualClientName.trim()) return;\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/clients', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name: manualClientName.trim() })\r\n      });\r\n      if (response.ok) {\r\n        setManualClientName('');\r\n        addLog(`âœ… Added manual client: ${manualClientName}`);\r\n      }\r\n    } catch (error) {\r\n      addLog(`âŒ Error adding client: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const removeClient = async (clientId) => {\r\n    try {\r\n      await fetch(`http://localhost:5000/api/clients/${clientId}`, {\r\n        method: 'DELETE'\r\n      });\r\n      addLog(`âž– Removed client ${clientId}`);\r\n    } catch (error) {\r\n      addLog(`âŒ Error removing client: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const sendMessage = () => {\r\n    if (!inputMessage.trim() || !selectedClient || !socket) return;\r\n    \r\n    const messageData = {\r\n      clientId: selectedClient,\r\n      message: inputMessage.trim()\r\n    };\r\n    \r\n    socket.emit('send_message', messageData);\r\n    \r\n    const client = clients.find(c => c.id === selectedClient);\r\n    setMessages(prev => [...prev, {\r\n      type: 'client',\r\n      clientId: selectedClient,\r\n      client: client?.name || 'Unknown',\r\n      message: inputMessage.trim(),\r\n      timestamp: new Date()\r\n    }]);\r\n    \r\n    setInputMessage('');\r\n    addLog(`ðŸ“¤ Sent: \"${inputMessage.trim().substring(0, 30)}...\"`);\r\n  };\r\n\r\n  const loadStats = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/stats');\r\n      const data = await response.json();\r\n      setStats(data);\r\n      addLog('ðŸ“Š Stats updated');\r\n    } catch (error) {\r\n      addLog(`âŒ Error loading stats: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // Visualization functions (NO CHANGES)\r\n  const getNodePosition = (nodeId) => {\r\n    const positions = {\r\n      router: { x: 400, y: 300 },\r\n      food: { x: 650, y: 150 },\r\n      travel: { x: 650, y: 300 },\r\n      realestate: { x: 650, y: 450 }\r\n    };\r\n    if (positions[nodeId]) return positions[nodeId];\r\n    \r\n    const clientIndex = clients.findIndex(c => c.id === nodeId);\r\n    return { x: 150, y: 100 + (clientIndex * 80) };\r\n  };\r\n\r\n  const getPacketColor = (packetType) => {\r\n    const colors = {\r\n      SYN: '#ff6b6b',\r\n      'SYN-ACK': '#4ecdc4',\r\n      ACK: '#45b7d1',\r\n      DATA_SEND: '#96ceb4',\r\n      DATA_RECEIVE: '#feca57'\r\n    };\r\n    return colors[packetType] || '#ffffff';\r\n  };\r\n\r\n  const getClientColor = (clientId) => {\r\n    const colors = ['#4ecdc4', '#ff6b6b', '#45b7d1', '#feca57', '#a8e6cf', '#ffd3b6'];\r\n    const index = clients.findIndex(c => c.id === clientId) % colors.length;\r\n    return colors[index];\r\n  };\r\n\r\n  const filteredMessages = messages.filter(msg => \r\n    selectedClient ? msg.clientId === selectedClient : true\r\n  );\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"header\">\r\n        <h1>ðŸš€ THK Protocol Simulator</h1>\r\n        <div className=\"header-controls\">\r\n          <div className=\"connection-status\">\r\n            Status: <span className={isConnected ? 'connected' : 'disconnected'}>\r\n              {isConnected ? 'Connected' : 'Disconnected'}\r\n            </span>\r\n          </div>\r\n          <button className=\"admin-toggle\" onClick={() => setShowAdminPanel(!showAdminPanel)}>\r\n            {showAdminPanel ? 'Hide Admin' : 'Show Admin'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"main-container\">\r\n        {/* Network Visualization (NO CHANGES) */}\r\n        <div className=\"visualization-panel\">\r\n          <h3>Network Topology</h3>\r\n          <Stage width={800} height={600} ref={stageRef}>\r\n            <Layer>\r\n              {/* ALL VISUALIZATION CODE REMAINS EXACTLY THE SAME */}\r\n              {clients.map(client => (\r\n                <Line key={`conn-client-${client.id}`}\r\n                  points={[\r\n                    getNodePosition(client.id).x,\r\n                    getNodePosition(client.id).y,\r\n                    getNodePosition('router').x,\r\n                    getNodePosition('router').y\r\n                  ]}\r\n                  stroke=\"#444\" strokeWidth={2} dash={[5, 5]}\r\n                />\r\n              ))}\r\n              \r\n              {agents.map(agent => (\r\n                <Line key={`conn-agent-${agent}`}\r\n                  points={[\r\n                    getNodePosition('router').x,\r\n                    getNodePosition('router').y,\r\n                    getNodePosition(agent).x,\r\n                    getNodePosition(agent).y\r\n                  ]}\r\n                  stroke=\"#444\" strokeWidth={2} dash={[5, 5]}\r\n                />\r\n              ))}\r\n\r\n              {clients.map(client => (\r\n                <Circle key={client.id}\r\n                  x={getNodePosition(client.id).x}\r\n                  y={getNodePosition(client.id).y}\r\n                  radius={20}\r\n                  fill={getClientColor(client.id)}\r\n                  stroke={selectedClient === client.id ? '#fff' : '#666'}\r\n                  strokeWidth={selectedClient === client.id ? 3 : 1}\r\n                  onClick={() => setSelectedClient(client.id)}\r\n                />\r\n              ))}\r\n\r\n              <Rect x={getNodePosition('router').x - 30}\r\n                y={getNodePosition('router').y - 30}\r\n                width={60} height={60}\r\n                fill=\"#45b7d1\" stroke=\"#fff\" strokeWidth={2}\r\n                cornerRadius={10}\r\n              />\r\n\r\n              {agents.map(agent => (\r\n                <Rect key={agent}\r\n                  x={getNodePosition(agent).x - 25}\r\n                  y={getNodePosition(agent).y - 25}\r\n                  width={50} height={50}\r\n                  fill=\"#ff6b6b\" stroke=\"#fff\" strokeWidth={2}\r\n                  cornerRadius={8}\r\n                />\r\n              ))}\r\n\r\n              {clients.map(client => (\r\n                <Text key={`label-${client.id}`}\r\n                  x={getNodePosition(client.id).x - 30}\r\n                  y={getNodePosition(client.id).y + 30}\r\n                  text={client.name} fontSize={12} fill=\"#fff\"\r\n                />\r\n              ))}\r\n\r\n              <Text x={getNodePosition('router').x - 20}\r\n                y={getNodePosition('router').y + 45}\r\n                text=\"ROUTER\" fontSize={14} fill=\"#fff\"\r\n                fontStyle=\"bold\"\r\n              />\r\n\r\n              {agents.map(agent => (\r\n                <Text key={`label-${agent}`}\r\n                  x={getNodePosition(agent).x - 25}\r\n                  y={getNodePosition(agent).y + 40}\r\n                  text={agent.toUpperCase()} fontSize={12} fill=\"#fff\"\r\n                  fontStyle=\"bold\"\r\n                />\r\n              ))}\r\n\r\n              {packets.map(packet => {\r\n                const fromPos = getNodePosition(packet.from);\r\n                const toPos = getNodePosition(packet.to);\r\n                const currentX = fromPos.x + (toPos.x - fromPos.x) * packet.progress;\r\n                const currentY = fromPos.y + (toPos.y - fromPos.y) * packet.progress;\r\n                \r\n                return (\r\n                  <Circle key={packet.id}\r\n                    x={currentX} y={currentY} radius={6}\r\n                    fill={getPacketColor(packet.type)}\r\n                    stroke=\"#fff\" strokeWidth={1}\r\n                  />\r\n                );\r\n              })}\r\n            </Layer>\r\n          </Stage>\r\n        </div>\r\n\r\n        {/* Control Panel */}\r\n        <div className=\"control-panel\">\r\n          {showAdminPanel && (\r\n            <div className=\"admin-panel\">\r\n              <h3>Admin Controls</h3>\r\n              <div className=\"manual-client-section\">\r\n                <h4>Add Manual Clients</h4>\r\n                <div className=\"manual-client-input\">\r\n                  <input type=\"text\" placeholder=\"Enter client name\"\r\n                    value={manualClientName}\r\n                    onChange={(e) => setManualClientName(e.target.value)}\r\n                  />\r\n                  <button onClick={addManualClient}>Add Client</button>\r\n                </div>\r\n              </div>\r\n              <div className=\"stats-section\">\r\n                <h4>Statistics</h4>\r\n                <div className=\"stats\">\r\n                  <div>Total Clients: {stats.totalClients || 0}</div>\r\n                  <div>Active Connections: {stats.activeConnections || 0}</div>\r\n                  <div>Congestion Window: {stats.congestionWindow || 1}</div>\r\n                </div>\r\n                <button onClick={loadStats}>Refresh Stats</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"client-management\">\r\n            <h3>Client Management</h3>\r\n            <div className=\"client-registration\">\r\n              <input type=\"text\" placeholder=\"Enter your name\"\r\n                value={clientName}\r\n                onChange={(e) => setClientName(e.target.value)}\r\n                disabled={currentClient}\r\n              />\r\n              <button onClick={registerClient}\r\n                disabled={!clientName || currentClient}\r\n              >\r\n                Register Client\r\n              </button>\r\n            </div>\r\n            <div className=\"client-list\">\r\n              <h4>Active Clients ({clients.length})</h4>\r\n              <div className=\"client-buttons\">\r\n                {clients.map(client => (\r\n                  <div key={client.id} className=\"client-item\">\r\n                    <button className={selectedClient === client.id ? 'selected' : ''}\r\n                      onClick={() => setSelectedClient(client.id)}\r\n                    >\r\n                      {client.name} ({client.type})\r\n                    </button>\r\n                    {client.type === 'manual' && (\r\n                      <button className=\"remove-client\"\r\n                        onClick={() => removeClient(client.id)}\r\n                      >\r\n                        Ã—\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"chat-interface\">\r\n            <h3>\r\n              Chat with Agents {selectedClient && ` - ${clients.find(c => c.id === selectedClient)?.name || 'Unknown'}`}\r\n            </h3>\r\n            <div className=\"messages\">\r\n              {filteredMessages.map((msg, index) => (\r\n                <div key={index} className={`message ${msg.type}`}>\r\n                  <div className=\"message-header\">\r\n                    <strong>\r\n                      {msg.type === 'client' ? 'You' : `${msg.agent} Agent`}:\r\n                    </strong>\r\n                    <span className=\"timestamp\">\r\n                      {msg.timestamp.toLocaleTimeString()}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"message-content\">{msg.message}</div>\r\n                </div>\r\n              ))}\r\n              {/* NEW: Empty div for auto-scrolling */}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n            <div className=\"message-input\">\r\n              <input type=\"text\" placeholder=\"Type your message...\"\r\n                value={inputMessage}\r\n                onChange={(e) => setInputMessage(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\r\n                disabled={!selectedClient}\r\n              />\r\n              <button onClick={sendMessage}\r\n                disabled={!inputMessage || !selectedClient}\r\n              >\r\n                Send\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Logs Panel (NO CHANGES) */}\r\n        <div className=\"logs-panel\">\r\n          <h3>Protocol Logs</h3>\r\n          <div className=\"logs\">\r\n            {logs.map((log, index) => (\r\n              <div key={index} className=\"log-entry\">\r\n                <span className=\"timestamp\">[{log.timestamp}]</span>\r\n                <span className=\"log-message\">{log.message}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}