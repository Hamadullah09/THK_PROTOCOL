{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kasha\\\\OneDrive\\\\Desktop\\\\CN Project 2\\\\thk-protocol-simulator\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Stage, Layer, Line, Circle, Text, Rect } from 'react-konva';\nimport io from 'socket.io-client';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  var _clients$find;\n  const [socket, setSocket] = useState(null);\n  const [clients, setClients] = useState([]);\n  const [agents, setAgents] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [packets, setPackets] = useState([]);\n  const [currentClient, setCurrentClient] = useState('');\n  const [inputMessage, setInputMessage] = useState('');\n  const [clientName, setClientName] = useState('');\n  const [isConnected, setIsConnected] = useState(false);\n  const [logs, setLogs] = useState([]);\n  const [manualClientName, setManualClientName] = useState('');\n  const [selectedClient, setSelectedClient] = useState('');\n  const [stats, setStats] = useState({});\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\n  const stageRef = useRef();\n\n  // Add log function\n  const addLog = useCallback(message => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLogs(prev => [{\n      timestamp,\n      message\n    }, ...prev.slice(0, 50)]);\n  }, []);\n\n  // Packet animation\n  const animatePacket = useCallback(packetData => {\n    const newPacket = {\n      id: packetData.id || Date.now(),\n      ...packetData,\n      progress: 0\n    };\n    setPackets(prev => [...prev, newPacket]);\n    addLog(`ðŸ“¦ ${packetData.type} packet from ${packetData.from} to ${packetData.to}`);\n    const interval = setInterval(() => {\n      setPackets(prev => prev.map(p => p.id === newPacket.id ? {\n        ...p,\n        progress: Math.min(p.progress + 0.02, 1)\n      } : p));\n    }, 50);\n    setTimeout(() => {\n      clearInterval(interval);\n      setPackets(prev => prev.filter(p => p.id !== newPacket.id));\n    }, 2000);\n  }, [addLog]);\n\n  // Socket connection\n  useEffect(() => {\n    const newSocket = io('http://localhost:5000', {\n      reconnection: true,\n      reconnectionDelay: 1000\n    });\n    setSocket(newSocket);\n    newSocket.on('connect', () => {\n      setIsConnected(true);\n      addLog('âœ… Connected to THK Protocol Server');\n    });\n    newSocket.on('disconnect', () => {\n      setIsConnected(false);\n      addLog('âš ï¸ Disconnected from server');\n    });\n    newSocket.on('initial_state', data => {\n      setClients(data.clients || []);\n      setAgents(data.agents || []);\n      setStats(data.stats || {});\n    });\n    newSocket.on('client_connected', data => {\n      addLog(`ðŸ‘¤ Client ${data.name} connected`);\n    });\n    newSocket.on('client_disconnected', data => {\n      addLog(`ðŸ”Œ Client ${data.name} disconnected`);\n    });\n    newSocket.on('client_added', client => {\n      addLog(`âž• Manual client ${client.name} added`);\n    });\n    newSocket.on('client_removed', data => {\n      addLog(`âž– Client ${data.clientId} removed`);\n    });\n    newSocket.on('packet_animation', data => {\n      animatePacket(data);\n    });\n    newSocket.on('agent_response', data => {\n      setMessages(prev => [...prev, {\n        type: 'agent',\n        clientId: data.clientId,\n        agent: data.agent,\n        message: data.message,\n        timestamp: new Date(data.timestamp)\n      }]);\n      addLog(`ðŸ’¬ ${data.agent} agent responded`);\n    });\n    newSocket.on('client_registered', data => {\n      setCurrentClient(data.name);\n      setSelectedClient(data.clientId);\n      addLog(`ðŸ“ Registered as ${data.name}`);\n    });\n    newSocket.on('error', error => {\n      addLog(`âŒ Error: ${error.message}`);\n    });\n    return () => {\n      newSocket.disconnect();\n    };\n  }, [addLog, animatePacket]);\n  const registerClient = () => {\n    if (clientName && socket) {\n      socket.emit('register_client', {\n        name: clientName\n      });\n    }\n  };\n  const addManualClient = async () => {\n    if (!manualClientName.trim()) return;\n    try {\n      const response = await fetch('http://localhost:5000/api/clients', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: manualClientName.trim()\n        })\n      });\n      if (response.ok) {\n        setManualClientName('');\n        addLog(`âœ… Added manual client: ${manualClientName}`);\n      }\n    } catch (error) {\n      addLog(`âŒ Error adding client: ${error.message}`);\n    }\n  };\n  const removeClient = async clientId => {\n    try {\n      await fetch(`http://localhost:5000/api/clients/${clientId}`, {\n        method: 'DELETE'\n      });\n      addLog(`âž– Removed client ${clientId}`);\n    } catch (error) {\n      addLog(`âŒ Error removing client: ${error.message}`);\n    }\n  };\n  const sendMessage = () => {\n    if (!inputMessage.trim() || !selectedClient || !socket) return;\n    const messageData = {\n      clientId: selectedClient,\n      message: inputMessage.trim()\n    };\n    socket.emit('send_message', messageData);\n    const client = clients.find(c => c.id === selectedClient);\n    setMessages(prev => [...prev, {\n      type: 'client',\n      clientId: selectedClient,\n      client: (client === null || client === void 0 ? void 0 : client.name) || 'Unknown',\n      message: inputMessage.trim(),\n      timestamp: new Date()\n    }]);\n    setInputMessage('');\n    addLog(`ðŸ“¤ Sent: \"${inputMessage.trim().substring(0, 30)}...\"`);\n  };\n  const loadStats = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/stats');\n      const data = await response.json();\n      setStats(data);\n      addLog('ðŸ“Š Stats updated');\n    } catch (error) {\n      addLog(`âŒ Error loading stats: ${error.message}`);\n    }\n  };\n\n  // Visualization functions\n  const getNodePosition = nodeId => {\n    const positions = {\n      router: {\n        x: 400,\n        y: 300\n      },\n      food: {\n        x: 650,\n        y: 150\n      },\n      travel: {\n        x: 650,\n        y: 300\n      },\n      realestate: {\n        x: 650,\n        y: 450\n      }\n    };\n    if (positions[nodeId]) return positions[nodeId];\n\n    // Client positions (left side)\n    const clientIndex = clients.findIndex(c => c.id === nodeId);\n    return {\n      x: 150,\n      y: 100 + clientIndex * 80\n    };\n  };\n  const getPacketColor = packetType => {\n    const colors = {\n      SYN: '#ff6b6b',\n      'SYN-ACK': '#4ecdc4',\n      ACK: '#45b7d1',\n      DATA_SEND: '#96ceb4',\n      DATA_RECEIVE: '#feca57'\n    };\n    return colors[packetType] || '#ffffff';\n  };\n  const getClientColor = clientId => {\n    const colors = ['#4ecdc4', '#ff6b6b', '#45b7d1', '#feca57', '#a8e6cf', '#ffd3b6'];\n    const index = clients.findIndex(c => c.id === clientId) % colors.length;\n    return colors[index];\n  };\n  const filteredMessages = messages.filter(msg => selectedClient ? msg.clientId === selectedClient : true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83D\\uDE80 THK Protocol Simulator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"connection-status\",\n          children: [\"Status:\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: isConnected ? 'connected' : 'disconnected',\n            children: isConnected ? 'Connected' : 'Disconnected'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-toggle\",\n          onClick: () => setShowAdminPanel(!showAdminPanel),\n          children: showAdminPanel ? 'Hide Admin' : 'Show Admin'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"visualization-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Network Topology\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stage, {\n          width: 800,\n          height: 600,\n          ref: stageRef,\n          children: /*#__PURE__*/_jsxDEV(Layer, {\n            children: [clients.map(client => /*#__PURE__*/_jsxDEV(Line, {\n              points: [getNodePosition(client.id).x, getNodePosition(client.id).y, getNodePosition('router').x, getNodePosition('router').y],\n              stroke: \"#444\",\n              strokeWidth: 2,\n              dash: [5, 5]\n            }, `conn-client-${client.id}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)), agents.map(agent => /*#__PURE__*/_jsxDEV(Line, {\n              points: [getNodePosition('router').x, getNodePosition('router').y, getNodePosition(agent).x, getNodePosition(agent).y],\n              stroke: \"#444\",\n              strokeWidth: 2,\n              dash: [5, 5]\n            }, `conn-agent-${agent}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)), clients.map(client => /*#__PURE__*/_jsxDEV(Circle, {\n              x: getNodePosition(client.id).x,\n              y: getNodePosition(client.id).y,\n              radius: 20,\n              fill: getClientColor(client.id),\n              stroke: selectedClient === client.id ? '#fff' : '#666',\n              strokeWidth: selectedClient === client.id ? 3 : 1,\n              onClick: () => setSelectedClient(client.id)\n            }, client.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(Rect, {\n              x: getNodePosition('router').x - 30,\n              y: getNodePosition('router').y - 30,\n              width: 60,\n              height: 60,\n              fill: \"#45b7d1\",\n              stroke: \"#fff\",\n              strokeWidth: 2,\n              cornerRadius: 10\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), agents.map(agent => /*#__PURE__*/_jsxDEV(Rect, {\n              x: getNodePosition(agent).x - 25,\n              y: getNodePosition(agent).y - 25,\n              width: 50,\n              height: 50,\n              fill: \"#ff6b6b\",\n              stroke: \"#fff\",\n              strokeWidth: 2,\n              cornerRadius: 8\n            }, agent, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this)), clients.map(client => /*#__PURE__*/_jsxDEV(Text, {\n              x: getNodePosition(client.id).x - 30,\n              y: getNodePosition(client.id).y + 30,\n              text: client.name,\n              fontSize: 12,\n              fill: \"#fff\"\n            }, `label-${client.id}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(Text, {\n              x: getNodePosition('router').x - 20,\n              y: getNodePosition('router').y + 45,\n              text: \"ROUTER\",\n              fontSize: 14,\n              fill: \"#fff\",\n              fontStyle: \"bold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), agents.map(agent => /*#__PURE__*/_jsxDEV(Text, {\n              x: getNodePosition(agent).x - 25,\n              y: getNodePosition(agent).y + 40,\n              text: agent.toUpperCase(),\n              fontSize: 12,\n              fill: \"#fff\",\n              fontStyle: \"bold\"\n            }, `label-${agent}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this)), packets.map(packet => {\n              const fromPos = getNodePosition(packet.from);\n              const toPos = getNodePosition(packet.to);\n              const currentX = fromPos.x + (toPos.x - fromPos.x) * packet.progress;\n              const currentY = fromPos.y + (toPos.y - fromPos.y) * packet.progress;\n              return /*#__PURE__*/_jsxDEV(Circle, {\n                x: currentX,\n                y: currentY,\n                radius: 6,\n                fill: getPacketColor(packet.type),\n                stroke: \"#fff\",\n                strokeWidth: 1\n              }, packet.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-panel\",\n        children: [showAdminPanel && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Admin Controls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"manual-client-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Add Manual Clients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"manual-client-input\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Enter client name\",\n                value: manualClientName,\n                onChange: e => setManualClientName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: addManualClient,\n                children: \"Add Client\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Statistics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stats\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Total Clients: \", stats.totalClients || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Active Connections: \", stats.activeConnections || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Congestion Window: \", stats.congestionWindow || 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: loadStats,\n              children: \"Refresh Stats\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"client-management\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Client Management\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"client-registration\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Enter your name\",\n              value: clientName,\n              onChange: e => setClientName(e.target.value),\n              disabled: currentClient\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: registerClient,\n              disabled: !clientName || currentClient,\n              children: \"Register Client\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"client-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Active Clients (\", clients.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"client-buttons\",\n              children: clients.map(client => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"client-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: selectedClient === client.id ? 'selected' : '',\n                  onClick: () => setSelectedClient(client.id),\n                  children: [client.name, \" (\", client.type, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this), client.type === 'manual' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"remove-client\",\n                  onClick: () => removeClient(client.id),\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 23\n                }, this)]\n              }, client.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-interface\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Chat with Agents\", selectedClient && ` - ${((_clients$find = clients.find(c => c.id === selectedClient)) === null || _clients$find === void 0 ? void 0 : _clients$find.name) || 'Unknown'}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"messages\",\n            children: filteredMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message ${msg.type}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [msg.type === 'client' ? 'You' : `${msg.agent} Agent`, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"timestamp\",\n                  children: msg.timestamp.toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: msg.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Type your message...\",\n              value: inputMessage,\n              onChange: e => setInputMessage(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && sendMessage(),\n              disabled: !selectedClient\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: sendMessage,\n              disabled: !inputMessage || !selectedClient,\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logs-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Protocol Logs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logs\",\n          children: logs.map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"log-entry\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"timestamp\",\n              children: [\"[\", log.timestamp, \"]\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"log-message\",\n              children: log.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"aqWkZjNYiqwMqs9Jzj4diBvk85g=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Stage","Layer","Line","Circle","Text","Rect","io","jsxDEV","_jsxDEV","App","_s","_clients$find","socket","setSocket","clients","setClients","agents","setAgents","messages","setMessages","packets","setPackets","currentClient","setCurrentClient","inputMessage","setInputMessage","clientName","setClientName","isConnected","setIsConnected","logs","setLogs","manualClientName","setManualClientName","selectedClient","setSelectedClient","stats","setStats","showAdminPanel","setShowAdminPanel","stageRef","addLog","message","timestamp","Date","toLocaleTimeString","prev","slice","animatePacket","packetData","newPacket","id","now","progress","type","from","to","interval","setInterval","map","p","Math","min","setTimeout","clearInterval","filter","newSocket","reconnection","reconnectionDelay","on","data","name","client","clientId","agent","error","disconnect","registerClient","emit","addManualClient","trim","response","fetch","method","headers","body","JSON","stringify","ok","removeClient","sendMessage","messageData","find","c","substring","loadStats","json","getNodePosition","nodeId","positions","router","x","y","food","travel","realestate","clientIndex","findIndex","getPacketColor","packetType","colors","SYN","ACK","DATA_SEND","DATA_RECEIVE","getClientColor","index","length","filteredMessages","msg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","width","height","ref","points","stroke","strokeWidth","dash","radius","fill","cornerRadius","text","fontSize","fontStyle","toUpperCase","packet","fromPos","toPos","currentX","currentY","placeholder","value","onChange","e","target","totalClients","activeConnections","congestionWindow","disabled","onKeyPress","key","log","_c","$RefreshReg$"],"sources":["C:/Users/kasha/OneDrive/Desktop/CN Project 2/thk-protocol-simulator/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Stage, Layer, Line, Circle, Text, Rect } from 'react-konva';\r\nimport io from 'socket.io-client';\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n  const [socket, setSocket] = useState(null);\r\n  const [clients, setClients] = useState([]);\r\n  const [agents, setAgents] = useState([]);\r\n  const [messages, setMessages] = useState([]);\r\n  const [packets, setPackets] = useState([]);\r\n  const [currentClient, setCurrentClient] = useState('');\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [clientName, setClientName] = useState('');\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [logs, setLogs] = useState([]);\r\n  const [manualClientName, setManualClientName] = useState('');\r\n  const [selectedClient, setSelectedClient] = useState('');\r\n  const [stats, setStats] = useState({});\r\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\r\n\r\n  const stageRef = useRef();\r\n\r\n  // Add log function\r\n  const addLog = useCallback((message) => {\r\n    const timestamp = new Date().toLocaleTimeString();\r\n    setLogs(prev => [{ timestamp, message }, ...prev.slice(0, 50)]);\r\n  }, []);\r\n\r\n  // Packet animation\r\n  const animatePacket = useCallback((packetData) => {\r\n    const newPacket = {\r\n      id: packetData.id || Date.now(),\r\n      ...packetData,\r\n      progress: 0\r\n    };\r\n\r\n    setPackets(prev => [...prev, newPacket]);\r\n    addLog(`ðŸ“¦ ${packetData.type} packet from ${packetData.from} to ${packetData.to}`);\r\n\r\n    const interval = setInterval(() => {\r\n      setPackets(prev => prev.map(p => \r\n        p.id === newPacket.id \r\n          ? { ...p, progress: Math.min(p.progress + 0.02, 1) }\r\n          : p\r\n      ));\r\n    }, 50);\r\n\r\n    setTimeout(() => {\r\n      clearInterval(interval);\r\n      setPackets(prev => prev.filter(p => p.id !== newPacket.id));\r\n    }, 2000);\r\n  }, [addLog]);\r\n\r\n  // Socket connection\r\n  useEffect(() => {\r\n    const newSocket = io('http://localhost:5000', {\r\n      reconnection: true,\r\n      reconnectionDelay: 1000,\r\n    });\r\n\r\n    setSocket(newSocket);\r\n\r\n    newSocket.on('connect', () => {\r\n      setIsConnected(true);\r\n      addLog('âœ… Connected to THK Protocol Server');\r\n    });\r\n\r\n    newSocket.on('disconnect', () => {\r\n      setIsConnected(false);\r\n      addLog('âš ï¸ Disconnected from server');\r\n    });\r\n\r\n    newSocket.on('initial_state', (data) => {\r\n      setClients(data.clients || []);\r\n      setAgents(data.agents || []);\r\n      setStats(data.stats || {});\r\n    });\r\n\r\n    newSocket.on('client_connected', (data) => {\r\n      addLog(`ðŸ‘¤ Client ${data.name} connected`);\r\n    });\r\n\r\n    newSocket.on('client_disconnected', (data) => {\r\n      addLog(`ðŸ”Œ Client ${data.name} disconnected`);\r\n    });\r\n\r\n    newSocket.on('client_added', (client) => {\r\n      addLog(`âž• Manual client ${client.name} added`);\r\n    });\r\n\r\n    newSocket.on('client_removed', (data) => {\r\n      addLog(`âž– Client ${data.clientId} removed`);\r\n    });\r\n\r\n    newSocket.on('packet_animation', (data) => {\r\n      animatePacket(data);\r\n    });\r\n\r\n    newSocket.on('agent_response', (data) => {\r\n      setMessages(prev => [...prev, {\r\n        type: 'agent',\r\n        clientId: data.clientId,\r\n        agent: data.agent,\r\n        message: data.message,\r\n        timestamp: new Date(data.timestamp)\r\n      }]);\r\n      addLog(`ðŸ’¬ ${data.agent} agent responded`);\r\n    });\r\n\r\n    newSocket.on('client_registered', (data) => {\r\n      setCurrentClient(data.name);\r\n      setSelectedClient(data.clientId);\r\n      addLog(`ðŸ“ Registered as ${data.name}`);\r\n    });\r\n\r\n    newSocket.on('error', (error) => {\r\n      addLog(`âŒ Error: ${error.message}`);\r\n    });\r\n\r\n    return () => {\r\n      newSocket.disconnect();\r\n    };\r\n  }, [addLog, animatePacket]);\r\n\r\n  const registerClient = () => {\r\n    if (clientName && socket) {\r\n      socket.emit('register_client', { name: clientName });\r\n    }\r\n  };\r\n\r\n  const addManualClient = async () => {\r\n    if (!manualClientName.trim()) return;\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/clients', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name: manualClientName.trim() })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setManualClientName('');\r\n        addLog(`âœ… Added manual client: ${manualClientName}`);\r\n      }\r\n    } catch (error) {\r\n      addLog(`âŒ Error adding client: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const removeClient = async (clientId) => {\r\n    try {\r\n      await fetch(`http://localhost:5000/api/clients/${clientId}`, {\r\n        method: 'DELETE'\r\n      });\r\n      addLog(`âž– Removed client ${clientId}`);\r\n    } catch (error) {\r\n      addLog(`âŒ Error removing client: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const sendMessage = () => {\r\n    if (!inputMessage.trim() || !selectedClient || !socket) return;\r\n\r\n    const messageData = {\r\n      clientId: selectedClient,\r\n      message: inputMessage.trim()\r\n    };\r\n\r\n    socket.emit('send_message', messageData);\r\n\r\n    const client = clients.find(c => c.id === selectedClient);\r\n    setMessages(prev => [...prev, {\r\n      type: 'client',\r\n      clientId: selectedClient,\r\n      client: client?.name || 'Unknown',\r\n      message: inputMessage.trim(),\r\n      timestamp: new Date()\r\n    }]);\r\n\r\n    setInputMessage('');\r\n    addLog(`ðŸ“¤ Sent: \"${inputMessage.trim().substring(0, 30)}...\"`);\r\n  };\r\n\r\n  const loadStats = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/stats');\r\n      const data = await response.json();\r\n      setStats(data);\r\n      addLog('ðŸ“Š Stats updated');\r\n    } catch (error) {\r\n      addLog(`âŒ Error loading stats: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // Visualization functions\r\n  const getNodePosition = (nodeId) => {\r\n    const positions = {\r\n      router: { x: 400, y: 300 },\r\n      food: { x: 650, y: 150 },\r\n      travel: { x: 650, y: 300 },\r\n      realestate: { x: 650, y: 450 }\r\n    };\r\n\r\n    if (positions[nodeId]) return positions[nodeId];\r\n\r\n    // Client positions (left side)\r\n    const clientIndex = clients.findIndex(c => c.id === nodeId);\r\n    return { x: 150, y: 100 + (clientIndex * 80) };\r\n  };\r\n\r\n  const getPacketColor = (packetType) => {\r\n    const colors = {\r\n      SYN: '#ff6b6b',\r\n      'SYN-ACK': '#4ecdc4',\r\n      ACK: '#45b7d1',\r\n      DATA_SEND: '#96ceb4',\r\n      DATA_RECEIVE: '#feca57'\r\n    };\r\n    return colors[packetType] || '#ffffff';\r\n  };\r\n\r\n  const getClientColor = (clientId) => {\r\n    const colors = ['#4ecdc4', '#ff6b6b', '#45b7d1', '#feca57', '#a8e6cf', '#ffd3b6'];\r\n    const index = clients.findIndex(c => c.id === clientId) % colors.length;\r\n    return colors[index];\r\n  };\r\n\r\n  const filteredMessages = messages.filter(msg => \r\n    selectedClient ? msg.clientId === selectedClient : true\r\n  );\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"header\">\r\n        <h1>ðŸš€ THK Protocol Simulator</h1>\r\n        <div className=\"header-controls\">\r\n          <div className=\"connection-status\">\r\n            Status: \r\n            <span className={isConnected ? 'connected' : 'disconnected'}>\r\n              {isConnected ? 'Connected' : 'Disconnected'}\r\n            </span>\r\n          </div>\r\n          <button \r\n            className=\"admin-toggle\"\r\n            onClick={() => setShowAdminPanel(!showAdminPanel)}\r\n          >\r\n            {showAdminPanel ? 'Hide Admin' : 'Show Admin'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"main-container\">\r\n        {/* Network Visualization */}\r\n        <div className=\"visualization-panel\">\r\n          <h3>Network Topology</h3>\r\n          <Stage width={800} height={600} ref={stageRef}>\r\n            <Layer>\r\n              {/* Connections */}\r\n              {clients.map(client => (\r\n                <Line\r\n                  key={`conn-client-${client.id}`}\r\n                  points={[\r\n                    getNodePosition(client.id).x,\r\n                    getNodePosition(client.id).y,\r\n                    getNodePosition('router').x,\r\n                    getNodePosition('router').y\r\n                  ]}\r\n                  stroke=\"#444\"\r\n                  strokeWidth={2}\r\n                  dash={[5, 5]}\r\n                />\r\n              ))}\r\n              {agents.map(agent => (\r\n                <Line\r\n                  key={`conn-agent-${agent}`}\r\n                  points={[\r\n                    getNodePosition('router').x,\r\n                    getNodePosition('router').y,\r\n                    getNodePosition(agent).x,\r\n                    getNodePosition(agent).y\r\n                  ]}\r\n                  stroke=\"#444\"\r\n                  strokeWidth={2}\r\n                  dash={[5, 5]}\r\n                />\r\n              ))}\r\n\r\n              {/* Nodes */}\r\n              {clients.map(client => (\r\n                <Circle\r\n                  key={client.id}\r\n                  x={getNodePosition(client.id).x}\r\n                  y={getNodePosition(client.id).y}\r\n                  radius={20}\r\n                  fill={getClientColor(client.id)}\r\n                  stroke={selectedClient === client.id ? '#fff' : '#666'}\r\n                  strokeWidth={selectedClient === client.id ? 3 : 1}\r\n                  onClick={() => setSelectedClient(client.id)}\r\n                />\r\n              ))}\r\n\r\n              <Rect\r\n                x={getNodePosition('router').x - 30}\r\n                y={getNodePosition('router').y - 30}\r\n                width={60}\r\n                height={60}\r\n                fill=\"#45b7d1\"\r\n                stroke=\"#fff\"\r\n                strokeWidth={2}\r\n                cornerRadius={10}\r\n              />\r\n\r\n              {agents.map(agent => (\r\n                <Rect\r\n                  key={agent}\r\n                  x={getNodePosition(agent).x - 25}\r\n                  y={getNodePosition(agent).y - 25}\r\n                  width={50}\r\n                  height={50}\r\n                  fill=\"#ff6b6b\"\r\n                  stroke=\"#fff\"\r\n                  strokeWidth={2}\r\n                  cornerRadius={8}\r\n                />\r\n              ))}\r\n\r\n              {/* Labels */}\r\n              {clients.map(client => (\r\n                <Text\r\n                  key={`label-${client.id}`}\r\n                  x={getNodePosition(client.id).x - 30}\r\n                  y={getNodePosition(client.id).y + 30}\r\n                  text={client.name}\r\n                  fontSize={12}\r\n                  fill=\"#fff\"\r\n                />\r\n              ))}\r\n\r\n              <Text\r\n                x={getNodePosition('router').x - 20}\r\n                y={getNodePosition('router').y + 45}\r\n                text=\"ROUTER\"\r\n                fontSize={14}\r\n                fill=\"#fff\"\r\n                fontStyle=\"bold\"\r\n              />\r\n\r\n              {agents.map(agent => (\r\n                <Text\r\n                  key={`label-${agent}`}\r\n                  x={getNodePosition(agent).x - 25}\r\n                  y={getNodePosition(agent).y + 40}\r\n                  text={agent.toUpperCase()}\r\n                  fontSize={12}\r\n                  fill=\"#fff\"\r\n                  fontStyle=\"bold\"\r\n                />\r\n              ))}\r\n\r\n              {/* Animated Packets */}\r\n              {packets.map(packet => {\r\n                const fromPos = getNodePosition(packet.from);\r\n                const toPos = getNodePosition(packet.to);\r\n                const currentX = fromPos.x + (toPos.x - fromPos.x) * packet.progress;\r\n                const currentY = fromPos.y + (toPos.y - fromPos.y) * packet.progress;\r\n\r\n                return (\r\n                  <Circle\r\n                    key={packet.id}\r\n                    x={currentX}\r\n                    y={currentY}\r\n                    radius={6}\r\n                    fill={getPacketColor(packet.type)}\r\n                    stroke=\"#fff\"\r\n                    strokeWidth={1}\r\n                  />\r\n                );\r\n              })}\r\n            </Layer>\r\n          </Stage>\r\n        </div>\r\n\r\n        {/* Control Panel */}\r\n        <div className=\"control-panel\">\r\n          {showAdminPanel && (\r\n            <div className=\"admin-panel\">\r\n              <h3>Admin Controls</h3>\r\n              \r\n              <div className=\"manual-client-section\">\r\n                <h4>Add Manual Clients</h4>\r\n                <div className=\"manual-client-input\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter client name\"\r\n                    value={manualClientName}\r\n                    onChange={(e) => setManualClientName(e.target.value)}\r\n                  />\r\n                  <button onClick={addManualClient}>Add Client</button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"stats-section\">\r\n                <h4>Statistics</h4>\r\n                <div className=\"stats\">\r\n                  <div>Total Clients: {stats.totalClients || 0}</div>\r\n                  <div>Active Connections: {stats.activeConnections || 0}</div>\r\n                  <div>Congestion Window: {stats.congestionWindow || 1}</div>\r\n                </div>\r\n                <button onClick={loadStats}>Refresh Stats</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"client-management\">\r\n            <h3>Client Management</h3>\r\n            <div className=\"client-registration\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Enter your name\"\r\n                value={clientName}\r\n                onChange={(e) => setClientName(e.target.value)}\r\n                disabled={currentClient}\r\n              />\r\n              <button \r\n                onClick={registerClient}\r\n                disabled={!clientName || currentClient}\r\n              >\r\n                Register Client\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"client-list\">\r\n              <h4>Active Clients ({clients.length})</h4>\r\n              <div className=\"client-buttons\">\r\n                {clients.map(client => (\r\n                  <div key={client.id} className=\"client-item\">\r\n                    <button\r\n                      className={selectedClient === client.id ? 'selected' : ''}\r\n                      onClick={() => setSelectedClient(client.id)}\r\n                    >\r\n                      {client.name} ({client.type})\r\n                    </button>\r\n                    {client.type === 'manual' && (\r\n                      <button\r\n                        className=\"remove-client\"\r\n                        onClick={() => removeClient(client.id)}\r\n                      >\r\n                        Ã—\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"chat-interface\">\r\n            <h3>\r\n              Chat with Agents\r\n              {selectedClient && ` - ${clients.find(c => c.id === selectedClient)?.name || 'Unknown'}`}\r\n            </h3>\r\n            \r\n            <div className=\"messages\">\r\n              {filteredMessages.map((msg, index) => (\r\n                <div key={index} className={`message ${msg.type}`}>\r\n                  <div className=\"message-header\">\r\n                    <strong>\r\n                      {msg.type === 'client' ? 'You' : `${msg.agent} Agent`}:\r\n                    </strong>\r\n                    <span className=\"timestamp\">\r\n                      {msg.timestamp.toLocaleTimeString()}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"message-content\">{msg.message}</div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"message-input\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Type your message...\"\r\n                value={inputMessage}\r\n                onChange={(e) => setInputMessage(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\r\n                disabled={!selectedClient}\r\n              />\r\n              <button\r\n                onClick={sendMessage}\r\n                disabled={!inputMessage || !selectedClient}\r\n              >\r\n                Send\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Logs Panel */}\r\n        <div className=\"logs-panel\">\r\n          <h3>Protocol Logs</h3>\r\n          <div className=\"logs\">\r\n            {logs.map((log, index) => (\r\n              <div key={index} className=\"log-entry\">\r\n                <span className=\"timestamp\">[{log.timestamp}]</span>\r\n                <span className=\"log-message\">{log.message}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,KAAK,EAAEC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,IAAI,EAAEC,IAAI,QAAQ,aAAa;AACpE,OAAOC,EAAE,MAAM,kBAAkB;AACjC,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,aAAA;EAChB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACoB,MAAM,EAAEC,SAAS,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACsB,QAAQ,EAAEC,WAAW,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC0B,aAAa,EAAEC,gBAAgB,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC4B,YAAY,EAAEC,eAAe,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC8B,UAAU,EAAEC,aAAa,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgC,WAAW,EAAEC,cAAc,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACkC,IAAI,EAAEC,OAAO,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACoC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrC,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACsC,cAAc,EAAEC,iBAAiB,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACwC,KAAK,EAAEC,QAAQ,CAAC,GAAGzC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC,MAAM,CAAC0C,cAAc,EAAEC,iBAAiB,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;EAE3D,MAAM4C,QAAQ,GAAG1C,MAAM,CAAC,CAAC;;EAEzB;EACA,MAAM2C,MAAM,GAAG1C,WAAW,CAAE2C,OAAO,IAAK;IACtC,MAAMC,SAAS,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC;IACjDd,OAAO,CAACe,IAAI,IAAI,CAAC;MAAEH,SAAS;MAAED;IAAQ,CAAC,EAAE,GAAGI,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;EACjE,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,aAAa,GAAGjD,WAAW,CAAEkD,UAAU,IAAK;IAChD,MAAMC,SAAS,GAAG;MAChBC,EAAE,EAAEF,UAAU,CAACE,EAAE,IAAIP,IAAI,CAACQ,GAAG,CAAC,CAAC;MAC/B,GAAGH,UAAU;MACbI,QAAQ,EAAE;IACZ,CAAC;IAEDhC,UAAU,CAACyB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEI,SAAS,CAAC,CAAC;IACxCT,MAAM,CAAC,MAAMQ,UAAU,CAACK,IAAI,gBAAgBL,UAAU,CAACM,IAAI,OAAON,UAAU,CAACO,EAAE,EAAE,CAAC;IAElF,MAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjCrC,UAAU,CAACyB,IAAI,IAAIA,IAAI,CAACa,GAAG,CAACC,CAAC,IAC3BA,CAAC,CAACT,EAAE,KAAKD,SAAS,CAACC,EAAE,GACjB;QAAE,GAAGS,CAAC;QAAEP,QAAQ,EAAEQ,IAAI,CAACC,GAAG,CAACF,CAAC,CAACP,QAAQ,GAAG,IAAI,EAAE,CAAC;MAAE,CAAC,GAClDO,CACN,CAAC,CAAC;IACJ,CAAC,EAAE,EAAE,CAAC;IAENG,UAAU,CAAC,MAAM;MACfC,aAAa,CAACP,QAAQ,CAAC;MACvBpC,UAAU,CAACyB,IAAI,IAAIA,IAAI,CAACmB,MAAM,CAACL,CAAC,IAAIA,CAAC,CAACT,EAAE,KAAKD,SAAS,CAACC,EAAE,CAAC,CAAC;IAC7D,CAAC,EAAE,IAAI,CAAC;EACV,CAAC,EAAE,CAACV,MAAM,CAAC,CAAC;;EAEZ;EACA5C,SAAS,CAAC,MAAM;IACd,MAAMqE,SAAS,GAAG5D,EAAE,CAAC,uBAAuB,EAAE;MAC5C6D,YAAY,EAAE,IAAI;MAClBC,iBAAiB,EAAE;IACrB,CAAC,CAAC;IAEFvD,SAAS,CAACqD,SAAS,CAAC;IAEpBA,SAAS,CAACG,EAAE,CAAC,SAAS,EAAE,MAAM;MAC5BxC,cAAc,CAAC,IAAI,CAAC;MACpBY,MAAM,CAAC,oCAAoC,CAAC;IAC9C,CAAC,CAAC;IAEFyB,SAAS,CAACG,EAAE,CAAC,YAAY,EAAE,MAAM;MAC/BxC,cAAc,CAAC,KAAK,CAAC;MACrBY,MAAM,CAAC,6BAA6B,CAAC;IACvC,CAAC,CAAC;IAEFyB,SAAS,CAACG,EAAE,CAAC,eAAe,EAAGC,IAAI,IAAK;MACtCvD,UAAU,CAACuD,IAAI,CAACxD,OAAO,IAAI,EAAE,CAAC;MAC9BG,SAAS,CAACqD,IAAI,CAACtD,MAAM,IAAI,EAAE,CAAC;MAC5BqB,QAAQ,CAACiC,IAAI,CAAClC,KAAK,IAAI,CAAC,CAAC,CAAC;IAC5B,CAAC,CAAC;IAEF8B,SAAS,CAACG,EAAE,CAAC,kBAAkB,EAAGC,IAAI,IAAK;MACzC7B,MAAM,CAAC,aAAa6B,IAAI,CAACC,IAAI,YAAY,CAAC;IAC5C,CAAC,CAAC;IAEFL,SAAS,CAACG,EAAE,CAAC,qBAAqB,EAAGC,IAAI,IAAK;MAC5C7B,MAAM,CAAC,aAAa6B,IAAI,CAACC,IAAI,eAAe,CAAC;IAC/C,CAAC,CAAC;IAEFL,SAAS,CAACG,EAAE,CAAC,cAAc,EAAGG,MAAM,IAAK;MACvC/B,MAAM,CAAC,mBAAmB+B,MAAM,CAACD,IAAI,QAAQ,CAAC;IAChD,CAAC,CAAC;IAEFL,SAAS,CAACG,EAAE,CAAC,gBAAgB,EAAGC,IAAI,IAAK;MACvC7B,MAAM,CAAC,YAAY6B,IAAI,CAACG,QAAQ,UAAU,CAAC;IAC7C,CAAC,CAAC;IAEFP,SAAS,CAACG,EAAE,CAAC,kBAAkB,EAAGC,IAAI,IAAK;MACzCtB,aAAa,CAACsB,IAAI,CAAC;IACrB,CAAC,CAAC;IAEFJ,SAAS,CAACG,EAAE,CAAC,gBAAgB,EAAGC,IAAI,IAAK;MACvCnD,WAAW,CAAC2B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;QAC5BQ,IAAI,EAAE,OAAO;QACbmB,QAAQ,EAAEH,IAAI,CAACG,QAAQ;QACvBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;QACjBhC,OAAO,EAAE4B,IAAI,CAAC5B,OAAO;QACrBC,SAAS,EAAE,IAAIC,IAAI,CAAC0B,IAAI,CAAC3B,SAAS;MACpC,CAAC,CAAC,CAAC;MACHF,MAAM,CAAC,MAAM6B,IAAI,CAACI,KAAK,kBAAkB,CAAC;IAC5C,CAAC,CAAC;IAEFR,SAAS,CAACG,EAAE,CAAC,mBAAmB,EAAGC,IAAI,IAAK;MAC1C/C,gBAAgB,CAAC+C,IAAI,CAACC,IAAI,CAAC;MAC3BpC,iBAAiB,CAACmC,IAAI,CAACG,QAAQ,CAAC;MAChChC,MAAM,CAAC,oBAAoB6B,IAAI,CAACC,IAAI,EAAE,CAAC;IACzC,CAAC,CAAC;IAEFL,SAAS,CAACG,EAAE,CAAC,OAAO,EAAGM,KAAK,IAAK;MAC/BlC,MAAM,CAAC,YAAYkC,KAAK,CAACjC,OAAO,EAAE,CAAC;IACrC,CAAC,CAAC;IAEF,OAAO,MAAM;MACXwB,SAAS,CAACU,UAAU,CAAC,CAAC;IACxB,CAAC;EACH,CAAC,EAAE,CAACnC,MAAM,EAAEO,aAAa,CAAC,CAAC;EAE3B,MAAM6B,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAInD,UAAU,IAAId,MAAM,EAAE;MACxBA,MAAM,CAACkE,IAAI,CAAC,iBAAiB,EAAE;QAAEP,IAAI,EAAE7C;MAAW,CAAC,CAAC;IACtD;EACF,CAAC;EAED,MAAMqD,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI,CAAC/C,gBAAgB,CAACgD,IAAI,CAAC,CAAC,EAAE;IAE9B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmC,EAAE;QAChEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEhB,IAAI,EAAEvC,gBAAgB,CAACgD,IAAI,CAAC;QAAE,CAAC;MACxD,CAAC,CAAC;MAEF,IAAIC,QAAQ,CAACO,EAAE,EAAE;QACfvD,mBAAmB,CAAC,EAAE,CAAC;QACvBQ,MAAM,CAAC,0BAA0BT,gBAAgB,EAAE,CAAC;MACtD;IACF,CAAC,CAAC,OAAO2C,KAAK,EAAE;MACdlC,MAAM,CAAC,0BAA0BkC,KAAK,CAACjC,OAAO,EAAE,CAAC;IACnD;EACF,CAAC;EAED,MAAM+C,YAAY,GAAG,MAAOhB,QAAQ,IAAK;IACvC,IAAI;MACF,MAAMS,KAAK,CAAC,qCAAqCT,QAAQ,EAAE,EAAE;QAC3DU,MAAM,EAAE;MACV,CAAC,CAAC;MACF1C,MAAM,CAAC,oBAAoBgC,QAAQ,EAAE,CAAC;IACxC,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdlC,MAAM,CAAC,4BAA4BkC,KAAK,CAACjC,OAAO,EAAE,CAAC;IACrD;EACF,CAAC;EAED,MAAMgD,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAI,CAAClE,YAAY,CAACwD,IAAI,CAAC,CAAC,IAAI,CAAC9C,cAAc,IAAI,CAACtB,MAAM,EAAE;IAExD,MAAM+E,WAAW,GAAG;MAClBlB,QAAQ,EAAEvC,cAAc;MACxBQ,OAAO,EAAElB,YAAY,CAACwD,IAAI,CAAC;IAC7B,CAAC;IAEDpE,MAAM,CAACkE,IAAI,CAAC,cAAc,EAAEa,WAAW,CAAC;IAExC,MAAMnB,MAAM,GAAG1D,OAAO,CAAC8E,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC1C,EAAE,KAAKjB,cAAc,CAAC;IACzDf,WAAW,CAAC2B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;MAC5BQ,IAAI,EAAE,QAAQ;MACdmB,QAAQ,EAAEvC,cAAc;MACxBsC,MAAM,EAAE,CAAAA,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAED,IAAI,KAAI,SAAS;MACjC7B,OAAO,EAAElB,YAAY,CAACwD,IAAI,CAAC,CAAC;MAC5BrC,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC,CAAC,CAAC;IAEHnB,eAAe,CAAC,EAAE,CAAC;IACnBgB,MAAM,CAAC,aAAajB,YAAY,CAACwD,IAAI,CAAC,CAAC,CAACc,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC;EACjE,CAAC;EAED,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,CAAC;MAC/D,MAAMZ,IAAI,GAAG,MAAMW,QAAQ,CAACe,IAAI,CAAC,CAAC;MAClC3D,QAAQ,CAACiC,IAAI,CAAC;MACd7B,MAAM,CAAC,kBAAkB,CAAC;IAC5B,CAAC,CAAC,OAAOkC,KAAK,EAAE;MACdlC,MAAM,CAAC,0BAA0BkC,KAAK,CAACjC,OAAO,EAAE,CAAC;IACnD;EACF,CAAC;;EAED;EACA,MAAMuD,eAAe,GAAIC,MAAM,IAAK;IAClC,MAAMC,SAAS,GAAG;MAChBC,MAAM,EAAE;QAAEC,CAAC,EAAE,GAAG;QAAEC,CAAC,EAAE;MAAI,CAAC;MAC1BC,IAAI,EAAE;QAAEF,CAAC,EAAE,GAAG;QAAEC,CAAC,EAAE;MAAI,CAAC;MACxBE,MAAM,EAAE;QAAEH,CAAC,EAAE,GAAG;QAAEC,CAAC,EAAE;MAAI,CAAC;MAC1BG,UAAU,EAAE;QAAEJ,CAAC,EAAE,GAAG;QAAEC,CAAC,EAAE;MAAI;IAC/B,CAAC;IAED,IAAIH,SAAS,CAACD,MAAM,CAAC,EAAE,OAAOC,SAAS,CAACD,MAAM,CAAC;;IAE/C;IACA,MAAMQ,WAAW,GAAG5F,OAAO,CAAC6F,SAAS,CAACd,CAAC,IAAIA,CAAC,CAAC1C,EAAE,KAAK+C,MAAM,CAAC;IAC3D,OAAO;MAAEG,CAAC,EAAE,GAAG;MAAEC,CAAC,EAAE,GAAG,GAAII,WAAW,GAAG;IAAI,CAAC;EAChD,CAAC;EAED,MAAME,cAAc,GAAIC,UAAU,IAAK;IACrC,MAAMC,MAAM,GAAG;MACbC,GAAG,EAAE,SAAS;MACd,SAAS,EAAE,SAAS;MACpBC,GAAG,EAAE,SAAS;MACdC,SAAS,EAAE,SAAS;MACpBC,YAAY,EAAE;IAChB,CAAC;IACD,OAAOJ,MAAM,CAACD,UAAU,CAAC,IAAI,SAAS;EACxC,CAAC;EAED,MAAMM,cAAc,GAAI1C,QAAQ,IAAK;IACnC,MAAMqC,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IACjF,MAAMM,KAAK,GAAGtG,OAAO,CAAC6F,SAAS,CAACd,CAAC,IAAIA,CAAC,CAAC1C,EAAE,KAAKsB,QAAQ,CAAC,GAAGqC,MAAM,CAACO,MAAM;IACvE,OAAOP,MAAM,CAACM,KAAK,CAAC;EACtB,CAAC;EAED,MAAME,gBAAgB,GAAGpG,QAAQ,CAAC+C,MAAM,CAACsD,GAAG,IAC1CrF,cAAc,GAAGqF,GAAG,CAAC9C,QAAQ,KAAKvC,cAAc,GAAG,IACrD,CAAC;EAED,oBACE1B,OAAA;IAAKgH,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBjH,OAAA;MAAKgH,SAAS,EAAC,QAAQ;MAAAC,QAAA,gBACrBjH,OAAA;QAAAiH,QAAA,EAAI;MAAyB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClCrH,OAAA;QAAKgH,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9BjH,OAAA;UAAKgH,SAAS,EAAC,mBAAmB;UAAAC,QAAA,GAAC,SAEjC,eAAAjH,OAAA;YAAMgH,SAAS,EAAE5F,WAAW,GAAG,WAAW,GAAG,cAAe;YAAA6F,QAAA,EACzD7F,WAAW,GAAG,WAAW,GAAG;UAAc;YAAA8F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eACNrH,OAAA;UACEgH,SAAS,EAAC,cAAc;UACxBM,OAAO,EAAEA,CAAA,KAAMvF,iBAAiB,CAAC,CAACD,cAAc,CAAE;UAAAmF,QAAA,EAEjDnF,cAAc,GAAG,YAAY,GAAG;QAAY;UAAAoF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENrH,OAAA;MAAKgH,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAE7BjH,OAAA;QAAKgH,SAAS,EAAC,qBAAqB;QAAAC,QAAA,gBAClCjH,OAAA;UAAAiH,QAAA,EAAI;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzBrH,OAAA,CAACR,KAAK;UAAC+H,KAAK,EAAE,GAAI;UAACC,MAAM,EAAE,GAAI;UAACC,GAAG,EAAEzF,QAAS;UAAAiF,QAAA,eAC5CjH,OAAA,CAACP,KAAK;YAAAwH,QAAA,GAEH3G,OAAO,CAAC6C,GAAG,CAACa,MAAM,iBACjBhE,OAAA,CAACN,IAAI;cAEHgI,MAAM,EAAE,CACNjC,eAAe,CAACzB,MAAM,CAACrB,EAAE,CAAC,CAACkD,CAAC,EAC5BJ,eAAe,CAACzB,MAAM,CAACrB,EAAE,CAAC,CAACmD,CAAC,EAC5BL,eAAe,CAAC,QAAQ,CAAC,CAACI,CAAC,EAC3BJ,eAAe,CAAC,QAAQ,CAAC,CAACK,CAAC,CAC3B;cACF6B,MAAM,EAAC,MAAM;cACbC,WAAW,EAAE,CAAE;cACfC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;YAAE,GATR,eAAe7D,MAAM,CAACrB,EAAE,EAAE;cAAAuE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAUhC,CACF,CAAC,EACD7G,MAAM,CAAC2C,GAAG,CAACe,KAAK,iBACflE,OAAA,CAACN,IAAI;cAEHgI,MAAM,EAAE,CACNjC,eAAe,CAAC,QAAQ,CAAC,CAACI,CAAC,EAC3BJ,eAAe,CAAC,QAAQ,CAAC,CAACK,CAAC,EAC3BL,eAAe,CAACvB,KAAK,CAAC,CAAC2B,CAAC,EACxBJ,eAAe,CAACvB,KAAK,CAAC,CAAC4B,CAAC,CACxB;cACF6B,MAAM,EAAC,MAAM;cACbC,WAAW,EAAE,CAAE;cACfC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;YAAE,GATR,cAAc3D,KAAK,EAAE;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAU3B,CACF,CAAC,EAGD/G,OAAO,CAAC6C,GAAG,CAACa,MAAM,iBACjBhE,OAAA,CAACL,MAAM;cAELkG,CAAC,EAAEJ,eAAe,CAACzB,MAAM,CAACrB,EAAE,CAAC,CAACkD,CAAE;cAChCC,CAAC,EAAEL,eAAe,CAACzB,MAAM,CAACrB,EAAE,CAAC,CAACmD,CAAE;cAChCgC,MAAM,EAAE,EAAG;cACXC,IAAI,EAAEpB,cAAc,CAAC3C,MAAM,CAACrB,EAAE,CAAE;cAChCgF,MAAM,EAAEjG,cAAc,KAAKsC,MAAM,CAACrB,EAAE,GAAG,MAAM,GAAG,MAAO;cACvDiF,WAAW,EAAElG,cAAc,KAAKsC,MAAM,CAACrB,EAAE,GAAG,CAAC,GAAG,CAAE;cAClD2E,OAAO,EAAEA,CAAA,KAAM3F,iBAAiB,CAACqC,MAAM,CAACrB,EAAE;YAAE,GAPvCqB,MAAM,CAACrB,EAAE;cAAAuE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAQf,CACF,CAAC,eAEFrH,OAAA,CAACH,IAAI;cACHgG,CAAC,EAAEJ,eAAe,CAAC,QAAQ,CAAC,CAACI,CAAC,GAAG,EAAG;cACpCC,CAAC,EAAEL,eAAe,CAAC,QAAQ,CAAC,CAACK,CAAC,GAAG,EAAG;cACpCyB,KAAK,EAAE,EAAG;cACVC,MAAM,EAAE,EAAG;cACXO,IAAI,EAAC,SAAS;cACdJ,MAAM,EAAC,MAAM;cACbC,WAAW,EAAE,CAAE;cACfI,YAAY,EAAE;YAAG;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB,CAAC,EAED7G,MAAM,CAAC2C,GAAG,CAACe,KAAK,iBACflE,OAAA,CAACH,IAAI;cAEHgG,CAAC,EAAEJ,eAAe,CAACvB,KAAK,CAAC,CAAC2B,CAAC,GAAG,EAAG;cACjCC,CAAC,EAAEL,eAAe,CAACvB,KAAK,CAAC,CAAC4B,CAAC,GAAG,EAAG;cACjCyB,KAAK,EAAE,EAAG;cACVC,MAAM,EAAE,EAAG;cACXO,IAAI,EAAC,SAAS;cACdJ,MAAM,EAAC,MAAM;cACbC,WAAW,EAAE,CAAE;cACfI,YAAY,EAAE;YAAE,GARX9D,KAAK;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OASX,CACF,CAAC,EAGD/G,OAAO,CAAC6C,GAAG,CAACa,MAAM,iBACjBhE,OAAA,CAACJ,IAAI;cAEHiG,CAAC,EAAEJ,eAAe,CAACzB,MAAM,CAACrB,EAAE,CAAC,CAACkD,CAAC,GAAG,EAAG;cACrCC,CAAC,EAAEL,eAAe,CAACzB,MAAM,CAACrB,EAAE,CAAC,CAACmD,CAAC,GAAG,EAAG;cACrCmC,IAAI,EAAEjE,MAAM,CAACD,IAAK;cAClBmE,QAAQ,EAAE,EAAG;cACbH,IAAI,EAAC;YAAM,GALN,SAAS/D,MAAM,CAACrB,EAAE,EAAE;cAAAuE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAM1B,CACF,CAAC,eAEFrH,OAAA,CAACJ,IAAI;cACHiG,CAAC,EAAEJ,eAAe,CAAC,QAAQ,CAAC,CAACI,CAAC,GAAG,EAAG;cACpCC,CAAC,EAAEL,eAAe,CAAC,QAAQ,CAAC,CAACK,CAAC,GAAG,EAAG;cACpCmC,IAAI,EAAC,QAAQ;cACbC,QAAQ,EAAE,EAAG;cACbH,IAAI,EAAC,MAAM;cACXI,SAAS,EAAC;YAAM;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB,CAAC,EAED7G,MAAM,CAAC2C,GAAG,CAACe,KAAK,iBACflE,OAAA,CAACJ,IAAI;cAEHiG,CAAC,EAAEJ,eAAe,CAACvB,KAAK,CAAC,CAAC2B,CAAC,GAAG,EAAG;cACjCC,CAAC,EAAEL,eAAe,CAACvB,KAAK,CAAC,CAAC4B,CAAC,GAAG,EAAG;cACjCmC,IAAI,EAAE/D,KAAK,CAACkE,WAAW,CAAC,CAAE;cAC1BF,QAAQ,EAAE,EAAG;cACbH,IAAI,EAAC,MAAM;cACXI,SAAS,EAAC;YAAM,GANX,SAASjE,KAAK,EAAE;cAAAgD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAOtB,CACF,CAAC,EAGDzG,OAAO,CAACuC,GAAG,CAACkF,MAAM,IAAI;cACrB,MAAMC,OAAO,GAAG7C,eAAe,CAAC4C,MAAM,CAACtF,IAAI,CAAC;cAC5C,MAAMwF,KAAK,GAAG9C,eAAe,CAAC4C,MAAM,CAACrF,EAAE,CAAC;cACxC,MAAMwF,QAAQ,GAAGF,OAAO,CAACzC,CAAC,GAAG,CAAC0C,KAAK,CAAC1C,CAAC,GAAGyC,OAAO,CAACzC,CAAC,IAAIwC,MAAM,CAACxF,QAAQ;cACpE,MAAM4F,QAAQ,GAAGH,OAAO,CAACxC,CAAC,GAAG,CAACyC,KAAK,CAACzC,CAAC,GAAGwC,OAAO,CAACxC,CAAC,IAAIuC,MAAM,CAACxF,QAAQ;cAEpE,oBACE7C,OAAA,CAACL,MAAM;gBAELkG,CAAC,EAAE2C,QAAS;gBACZ1C,CAAC,EAAE2C,QAAS;gBACZX,MAAM,EAAE,CAAE;gBACVC,IAAI,EAAE3B,cAAc,CAACiC,MAAM,CAACvF,IAAI,CAAE;gBAClC6E,MAAM,EAAC,MAAM;gBACbC,WAAW,EAAE;cAAE,GANVS,MAAM,CAAC1F,EAAE;gBAAAuE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAOf,CAAC;YAEN,CAAC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAGNrH,OAAA;QAAKgH,SAAS,EAAC,eAAe;QAAAC,QAAA,GAC3BnF,cAAc,iBACb9B,OAAA;UAAKgH,SAAS,EAAC,aAAa;UAAAC,QAAA,gBAC1BjH,OAAA;YAAAiH,QAAA,EAAI;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAEvBrH,OAAA;YAAKgH,SAAS,EAAC,uBAAuB;YAAAC,QAAA,gBACpCjH,OAAA;cAAAiH,QAAA,EAAI;YAAkB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC3BrH,OAAA;cAAKgH,SAAS,EAAC,qBAAqB;cAAAC,QAAA,gBAClCjH,OAAA;gBACE8C,IAAI,EAAC,MAAM;gBACX4F,WAAW,EAAC,mBAAmB;gBAC/BC,KAAK,EAAEnH,gBAAiB;gBACxBoH,QAAQ,EAAGC,CAAC,IAAKpH,mBAAmB,CAACoH,CAAC,CAACC,MAAM,CAACH,KAAK;cAAE;gBAAAzB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtD,CAAC,eACFrH,OAAA;gBAAQsH,OAAO,EAAE/C,eAAgB;gBAAA0C,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENrH,OAAA;YAAKgH,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5BjH,OAAA;cAAAiH,QAAA,EAAI;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnBrH,OAAA;cAAKgH,SAAS,EAAC,OAAO;cAAAC,QAAA,gBACpBjH,OAAA;gBAAAiH,QAAA,GAAK,iBAAe,EAACrF,KAAK,CAACmH,YAAY,IAAI,CAAC;cAAA;gBAAA7B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACnDrH,OAAA;gBAAAiH,QAAA,GAAK,sBAAoB,EAACrF,KAAK,CAACoH,iBAAiB,IAAI,CAAC;cAAA;gBAAA9B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eAC7DrH,OAAA;gBAAAiH,QAAA,GAAK,qBAAmB,EAACrF,KAAK,CAACqH,gBAAgB,IAAI,CAAC;cAAA;gBAAA/B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxD,CAAC,eACNrH,OAAA;cAAQsH,OAAO,EAAE/B,SAAU;cAAA0B,QAAA,EAAC;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,eAEDrH,OAAA;UAAKgH,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChCjH,OAAA;YAAAiH,QAAA,EAAI;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC1BrH,OAAA;YAAKgH,SAAS,EAAC,qBAAqB;YAAAC,QAAA,gBAClCjH,OAAA;cACE8C,IAAI,EAAC,MAAM;cACX4F,WAAW,EAAC,iBAAiB;cAC7BC,KAAK,EAAEzH,UAAW;cAClB0H,QAAQ,EAAGC,CAAC,IAAK1H,aAAa,CAAC0H,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;cAC/CO,QAAQ,EAAEpI;YAAc;cAAAoG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CAAC,eACFrH,OAAA;cACEsH,OAAO,EAAEjD,cAAe;cACxB6E,QAAQ,EAAE,CAAChI,UAAU,IAAIJ,aAAc;cAAAmG,QAAA,EACxC;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAENrH,OAAA;YAAKgH,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BjH,OAAA;cAAAiH,QAAA,GAAI,kBAAgB,EAAC3G,OAAO,CAACuG,MAAM,EAAC,GAAC;YAAA;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC1CrH,OAAA;cAAKgH,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAC5B3G,OAAO,CAAC6C,GAAG,CAACa,MAAM,iBACjBhE,OAAA;gBAAqBgH,SAAS,EAAC,aAAa;gBAAAC,QAAA,gBAC1CjH,OAAA;kBACEgH,SAAS,EAAEtF,cAAc,KAAKsC,MAAM,CAACrB,EAAE,GAAG,UAAU,GAAG,EAAG;kBAC1D2E,OAAO,EAAEA,CAAA,KAAM3F,iBAAiB,CAACqC,MAAM,CAACrB,EAAE,CAAE;kBAAAsE,QAAA,GAE3CjD,MAAM,CAACD,IAAI,EAAC,IAAE,EAACC,MAAM,CAAClB,IAAI,EAAC,GAC9B;gBAAA;kBAAAoE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EACRrD,MAAM,CAAClB,IAAI,KAAK,QAAQ,iBACvB9C,OAAA;kBACEgH,SAAS,EAAC,eAAe;kBACzBM,OAAO,EAAEA,CAAA,KAAMrC,YAAY,CAACjB,MAAM,CAACrB,EAAE,CAAE;kBAAAsE,QAAA,EACxC;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CACT;cAAA,GAdOrD,MAAM,CAACrB,EAAE;gBAAAuE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAed,CACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENrH,OAAA;UAAKgH,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BjH,OAAA;YAAAiH,QAAA,GAAI,kBAEF,EAACvF,cAAc,IAAI,MAAM,EAAAvB,aAAA,GAAAG,OAAO,CAAC8E,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC1C,EAAE,KAAKjB,cAAc,CAAC,cAAAvB,aAAA,uBAA1CA,aAAA,CAA4C4D,IAAI,KAAI,SAAS,EAAE;UAAA;YAAAmD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtF,CAAC,eAELrH,OAAA;YAAKgH,SAAS,EAAC,UAAU;YAAAC,QAAA,EACtBH,gBAAgB,CAAC3D,GAAG,CAAC,CAAC4D,GAAG,EAAEH,KAAK,kBAC/B5G,OAAA;cAAiBgH,SAAS,EAAE,WAAWD,GAAG,CAACjE,IAAI,EAAG;cAAAmE,QAAA,gBAChDjH,OAAA;gBAAKgH,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,gBAC7BjH,OAAA;kBAAAiH,QAAA,GACGF,GAAG,CAACjE,IAAI,KAAK,QAAQ,GAAG,KAAK,GAAG,GAAGiE,GAAG,CAAC7C,KAAK,QAAQ,EAAC,GACxD;gBAAA;kBAAAgD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACTrH,OAAA;kBAAMgH,SAAS,EAAC,WAAW;kBAAAC,QAAA,EACxBF,GAAG,CAAC5E,SAAS,CAACE,kBAAkB,CAAC;gBAAC;kBAAA6E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACNrH,OAAA;gBAAKgH,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,EAAEF,GAAG,CAAC7E;cAAO;gBAAAgF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA,GAT5CT,KAAK;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAUV,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENrH,OAAA;YAAKgH,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5BjH,OAAA;cACE8C,IAAI,EAAC,MAAM;cACX4F,WAAW,EAAC,sBAAsB;cAClCC,KAAK,EAAE3H,YAAa;cACpB4H,QAAQ,EAAGC,CAAC,IAAK5H,eAAe,CAAC4H,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;cACjDQ,UAAU,EAAGN,CAAC,IAAKA,CAAC,CAACO,GAAG,KAAK,OAAO,IAAIlE,WAAW,CAAC,CAAE;cACtDgE,QAAQ,EAAE,CAACxH;YAAe;cAAAwF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B,CAAC,eACFrH,OAAA;cACEsH,OAAO,EAAEpC,WAAY;cACrBgE,QAAQ,EAAE,CAAClI,YAAY,IAAI,CAACU,cAAe;cAAAuF,QAAA,EAC5C;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNrH,OAAA;QAAKgH,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBjH,OAAA;UAAAiH,QAAA,EAAI;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtBrH,OAAA;UAAKgH,SAAS,EAAC,MAAM;UAAAC,QAAA,EAClB3F,IAAI,CAAC6B,GAAG,CAAC,CAACkG,GAAG,EAAEzC,KAAK,kBACnB5G,OAAA;YAAiBgH,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACpCjH,OAAA;cAAMgH,SAAS,EAAC,WAAW;cAAAC,QAAA,GAAC,GAAC,EAACoC,GAAG,CAAClH,SAAS,EAAC,GAAC;YAAA;cAAA+E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACpDrH,OAAA;cAAMgH,SAAS,EAAC,aAAa;cAAAC,QAAA,EAAEoC,GAAG,CAACnH;YAAO;cAAAgF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA,GAF1CT,KAAK;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAGV,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACnH,EAAA,CA5fID,GAAG;AAAAqJ,EAAA,GAAHrJ,GAAG;AA8fT,eAAeA,GAAG;AAAC,IAAAqJ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}